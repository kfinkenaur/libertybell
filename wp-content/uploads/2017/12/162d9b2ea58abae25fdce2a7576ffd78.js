/**handles:cffscripts**/
function cff_init(t){function e(){return 1==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}var a=!1;e()===!0&&(a=!0);var f=!1;"undefined"==typeof t&&(t=jQuery(".cff"),f=!0),function(e){function i(t,a,f){("undefined"==typeof f||f.length<2)&&(f="");var i=""+f,c="?post_id="+a,s="object",h=t.find(".cff-comments .cff-count").text(),m=t.find(".cff-likes .cff-count").text();"undefined"!=typeof h&&""!=h||(h=0),"undefined"!=typeof m&&""!=m||(m=0),("undefined"==typeof f||f.length<2||t.find(".cff-comments-box").hasClass("cff-shared-story")||t.hasClass("cff-timeline-event"))&&(s="post");var p="";t.hasClass("cff-timeline-event")&&(p="&timeline_event=true");var g="";t.closest("#cff").hasClass("cff-group")&&(g="&usegrouptoken=true");var b=t.hasClass("cff-video-post")?"&isvideo=true":"",v=cffsiteurl+"/custom-facebook-feed-pro/query.php?o_id="+f+"&post_id="+a+"&use_id="+s+p+g+"&comments_num="+h+"&likes_num="+m+"&type=meta"+b;t.hasClass("cff-album")&&(v+="&timelinealbum=true"),1==u&&e.ajax({method:"GET",url:v,success:function(e){l[a]=e,d[a]=e,r(t,e),o(t,e),n(d)}})}function n(t){function a(t){var a=JSON.stringify(t);a=encodeURI(a);var f={url:cffajaxurl,type:"POST",async:!0,cache:!1,data:{action:"cache_meta",metadata:a},success:function(t){},error:function(t,e,a){}};e.ajax(f)}if(!p){var f=0,i=setTimeout(function(){var e=setInterval(function(){a(t),f++,2==f&&clearInterval(e)},3e3);a(t)},500);p=!0}}function c(t,e){t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),f=a.exec(e);return f?f[2]?decodeURIComponent(f[2].replace(/\+/g," ")):"":null}function s(t){var e,a,f,i;return a=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.replace(a,'<a href="$1" target="_blank">$1</a>'),f=/(^|[^\/])(www\.[\S]+(\b|$))/gim,e=e.replace(f,'$1<a href="http://$2" target="_blank">$2</a>'),i=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(i,'<a href="mailto:$1">$1</a>')}function o(t,e){var e=jQuery.parseJSON(e);"undefined"!=typeof e.images&&t.find(".cff-lightbox-link").attr("href",e.images[0].source)}function r(t,a){function f(t,e){return e-t}if("<"==a.substring(0,1))return!1;var a=jQuery.parseJSON(a),i="",n="",c=parseInt(t.find(".cff-comments-box").attr("data-num")),o="undefined"!=typeof a.likes?a.likes.summary.total_count:0;$cffCommentsBox=t.find(".cff-comments-box"),$cffCommentLikes=$cffCommentsBox.find(".cff-comment-likes"),cff_hide_comment_avatars=Boolean(t.find(".cff-comments-box").attr("data-cff-hide-avatars")),cff_expand_comments=Boolean(t.find(".cff-comments-box").attr("data-cff-expand-comments")),cff_translate_like_this_text=$cffCommentsBox.attr("data-cff-like-text"),cff_translate_likes_this_text=$cffCommentsBox.attr("data-cff-likes-text"),cff_translate_reacted_to_this_text=$cffCommentsBox.attr("data-cff-reacted-text"),cff_translate_and_text=$cffCommentsBox.attr("data-cff-and-text"),cff_translate_other_text=$cffCommentsBox.attr("data-cff-other-text"),cff_translate_others_text=$cffCommentsBox.attr("data-cff-others-text"),cff_translate_reply_text=$cffCommentsBox.attr("data-cff-reply-text"),cff_translate_replies_text=$cffCommentsBox.attr("data-cff-replies-text"),cff_total_comments_count="undefined"!=typeof a.comments?a.comments.summary.total_count:0,cff_meta_link_color=t.find(".cff-comments-box").attr("data-cff-meta-link-color"),cff_post_tags=Boolean(t.find(".cff-comments-box").attr("data-cff-post-tags"));var r="undefined"!=typeof a.haha?a.haha.summary.total_count:0,u="undefined"!=typeof a.love?a.love.summary.total_count:0,l="undefined"!=typeof a.wow?a.wow.summary.total_count:0,d="undefined"!=typeof a.sad?a.sad.summary.total_count:0,h="undefined"!=typeof a.angry?a.angry.summary.total_count:0,m=[r,u,l,d,h],p=m.sort(f)[0],g=m.sort(f)[1],b="",v=!1,x=!1,w=!1,y=!1,A=!1,C="";if(p>0&&(a.love.summary.total_count==p&&(C+='<span class="cff-love cff-reaction-one"></span>',v=!0),a.haha.summary.total_count==p&&(C+='<span class="cff-haha cff-reaction-one"></span>',x=!0),a.wow.summary.total_count==p&&(C+='<span class="cff-wow cff-reaction-one"></span>',w=!0),a.sad.summary.total_count==p&&(C+='<span class="cff-sad cff-reaction-one"></span>',y=!0),a.angry.summary.total_count==p&&(C+='<span class="cff-angry cff-reaction-one"></span>',A=!0),b+=C),C.split("cff-reaction-one").length<3&&g>0){var _="";a.love.summary.total_count!=g||v||(_='<span class="cff-love cff-reaction-two"></span>'),a.haha.summary.total_count!=g||x||(_='<span class="cff-haha cff-reaction-two"></span>'),a.wow.summary.total_count!=g||w||(_='<span class="cff-wow cff-reaction-two"></span>'),a.sad.summary.total_count!=g||y||(_='<span class="cff-sad cff-reaction-two"></span>'),a.angry.summary.total_count!=g||A||(_='<span class="cff-angry cff-reaction-two"></span>'),b+=_}t.find(".cff-meta .cff-likes .cff-icon").after(b),0==parseInt(o)&&(parseInt(u)>0||parseInt(r)>0||parseInt(l)>0||parseInt(d)>0||parseInt(h)>0)&&(t.find(".cff-meta .cff-likes .cff-icon").remove(),t.find(".cff-meta .cff-likes span").addClass("cff-no-animate"));var k=parseInt(o)+parseInt(u)+parseInt(r)+parseInt(l)+parseInt(d)+parseInt(h);k>0&&t.find(".cff-meta .cff-likes .cff-count").text(k);var F=!1;0==u&&0==r&&0==l&&0==d&&0==h&&(F=!0);var I='<span class="cff-reactions-count">';if(parseInt(o)>0&&(I+='<span class="cff-like"></span>',F||(parseInt(o)>0&&(I+='<span class="cff-like-count">'+o+"</span>"),u>0&&(I+='<span class="cff-love"></span><span class="cff-love-count">'+u+"</span>"),r>0&&(I+='<span class="cff-haha"></span><span class="cff-haha-count">'+r+"</span>"),l>0&&(I+='<span class="cff-wow"></span><span class="cff-wow-count">'+l+"</span>"),d>0&&(I+='<span class="cff-sad"></span><span class="cff-sad-count">'+d+"</span>"),h>0&&(I+='<span class="cff-angry"></span><span class="cff-angry-count">'+h+"</span>"))),I+="</span>","undefined"!=typeof a.likes)if(a.likes.data.length){n+='<span class="cff-likes-this-text">';var B="",D="";o>0&&"undefined"!=typeof a.likes.data[0]&&(B='<a href="https://facebook.com/'+a.likes.data[0].id+'" style="color:'+cff_meta_link_color+";"),F&&(B+=" margin-left: 5px"),B+='" target="_blank">'+a.likes.data[0].name+"</a>",o>1&&"undefined"!=typeof a.likes.data[1]&&(D='<a href="https://facebook.com/'+a.likes.data[1].id+'" style="color:'+cff_meta_link_color+'" target="_blank">'+a.likes.data[1].name+"</a>"),1==o?n+=B+" "+cff_translate_likes_this_text:2==o?n+=B+" "+cff_translate_and_text+" "+D+" "+cff_translate_like_this_text:3==o?n+=B+", "+D+" "+cff_translate_and_text+" 1 "+cff_translate_other_text+" "+cff_translate_like_this_text:(n+=B+", "+D+" "+cff_translate_and_text+" ",25==o&&(n+='<span class="cff-comment-likes-count">'),n+=parseInt(k)-2,25==o&&(n+="</span>"),n+=" "+cff_translate_others_text,n+=parseInt(k)==parseInt(o)?" "+cff_translate_like_this_text:" "+cff_translate_reacted_to_this_text),n+="</span>",$cffCommentLikes.append(I+n)}else $cffCommentLikes.hide();"undefined"!=typeof a.comments&&e.each(a.comments.data,function(a,f){var n=s(f.message);i+='<div class="cff-comment" id="cff_'+f.id+'" data-id="'+f.from.id+'"',i+=' style="',i+=a>=c?"display: none;":"display: block;",i+=t.find("#cff_"+f.id).attr("style"),i+='">',i+='<div class="cff-comment-text-wrapper">',i+='<div class="cff-comment-text',cff_hide_comment_avatars&&(i+=" cff-no-image"),i+='"><p><a href="https://facebook.com/'+f.from.id+'" class="cff-name" target="_blank" style="color:'+cff_meta_link_color+'">'+f.from.name+"</a>",cff_post_tags&&f.hasOwnProperty("message_tags")&&e.each(f.message_tags,function(t,e){tag_name=e.name,tag_link='<a href="http://facebook.com/'+e.id+'" target="_blank" style="color:'+cff_meta_link_color+'">'+e.name+"</a>",n=n.replace(tag_name,tag_link)}),i+=n+"</p>",f.hasOwnProperty("attachment")&&f.attachment.hasOwnProperty("media")&&(i+='<a class="cff-comment-attachment" href="https://facebook.com/'+f.id+'" target="_blank"><img src="'+f.attachment.media.image.src+'" alt="',i+=f.attachment.hasOwnProperty("title")?f.attachment.title:"Attachment",i+='" /></a>'),i+='<span class="cff-time">';var o="",r=t.find("#cff_"+f.id).attr("data-cff-comment-date");"undefined"!=typeof r&&(i+=r,o="&nbsp; &middot; &nbsp;"),f.like_count>0&&(i+='<span class="cff-comment-likes">'+o+"<b></b>"+f.like_count+"</span>"),i+="</span>";var u=parseInt(f.comment_count);if(u>0){var l="";l=1==u?cff_translate_reply_text:cff_translate_replies_text,i+='<p class="cff-comment-replies" data-id="'+f.id+'"><a class="cff-comment-replies-a" href="javascript:void(0);" style="color:'+cff_meta_link_color+'"><span class="cff-replies-icon"></span>'+u+" "+l+'</a></p><div class="cff-comment-replies-box cff-empty"></div>'}i+="</div>",i+="</div>",cff_hide_comment_avatars||(i+='<div class="cff-comment-img"><a href="https://facebook.com/'+f.from.id+'" target="_blank">',i+=cff_expand_comments&&a<c?'<img src="https://graph.facebook.com/'+f.from.id+'/picture" width=32 height=32 alt="'+f.from.name+'">':'<span class="cff-comment-avatar"></span>',i+="</a></div>"),i+="</div>"}),t.find(".cff-comments-wrap").html(i),t.find(".cff-show-more-comments").attr("data-cff-comments-total",cff_total_comments_count),setTimeout(function(){t.closest(".cff").hasClass("cff-masonry")&&!t.closest(".cff").hasClass("cff-masonry-css")&&cffAddMasonry(t.closest(".cff"))},200)}jQuery(document).off("click","#cff a.cff-view-comments").on("click","#cff a.cff-view-comments",function(){var t=jQuery(this).closest(".cff-item").find(".cff-comments-box");t.slideToggle(),t.find(".cff-comment:visible").each(function(){var t=jQuery(this);t.find(".cff-comment-img:not(.cff-comment-reply-img) a").html('<img src="https://graph.facebook.com/'+t.attr("data-id")+'/picture" alt="Avatar" />')})}),"undefined"!=typeof cffsiteurl&&""!=cffsiteurl||(cffsiteurl=window.location.host+"/wp-content/plugins");var u=!0,l={},d={},h=0;jQuery("#cff.cff-lb").each(function(){h++,e(this).attr("data-cff-lb",h)});var m=t.find(".cff-item.cff-new, .cff-album-item.cff-new");f&&(m=jQuery("#cff .cff-item.cff-new, #cff .cff-album-item.cff-new")),m.each(function(){function f(){function t(t){var e=jQuery.trim(t);return/^#[0-9A-F]{6}$/i.test(e)?e:' <a href="https://www.facebook.com/hashtag/'+e.substring(1)+'" target="_blank" rel="nofollow" style="color:#'+n+'">'+e+"</a>"}var e=i.find(".cff-text").html(),a=i.find(".cff-post-desc").html(),f=/(^|\s)#(\w*[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]+\w*)/gi,n=i.find(".cff-text").attr("data-color");if("true"==cfflinkhashtags){var c=i.find(".cff-text");c.length>0&&(e=e.replace(/<br>/g,"<br> "),c.html(e.replace(f,t)))}i.find(".cff-post-desc").length>0&&i.find(".cff-post-desc").html(a.replace(f,t))}var i=jQuery(this);if(i.find(".cff-viewpost-link, .cff-viewpost-facebook, .cff-viewpost").parent("p").length&&(i.hasClass("event")||i.find(".cff-viewpost-link, .cff-viewpost-facebook, .cff-viewpost").unwrap("p")),i.find(".cff-photo").parent("p").length&&(i.find("p .cff-photo").unwrap("p"),i.find(".cff-album-icon").appendTo(".cff-photo:last")),i.find(".cff-event-thumb").parent("p").length&&i.find(".cff-event-thumb").unwrap("p"),i.find(".cff-vidLink").parent("p").length&&i.find(".cff-vidLink").unwrap("p"),i.find(".cff-link").parent("p").length&&i.find(".cff-link").unwrap("p"),i.find(".cff-viewpost-link").parent("p").length&&i.find(".cff-viewpost-link").unwrap("p"),i.find(".cff-viewpost-facebook").parent("p").length&&i.find(".cff-viewpost-facebook").unwrap("p"),i.find("iframe").parent("p").length&&i.find("iframe").unwrap("p"),i.find(".cff-author").parent("p").length&&(i.find(".cff-author").eq(1).unwrap("p"),i.find(".cff-author").eq(1).remove()),i.find(".cff-view-comments").parent("p").length){i.find(".cff-meta-wrap > p").remove(),i.find(".cff-view-comments").eq(1).remove();var n=i.find(".cff-meta"),c=n.attr("class");n.find(".cff-view-comments").unwrap().wrapInner('<ul class="'+c+'">')}i.find(".cff-photo").siblings(".cff-photo").length&&i.find(".cff-photo").slice(0,2).remove(),e(".cff-author-img").parent().is("p")&&e(".cff-author-img").unwrap("p"),i.find("p:empty").not(".cff-comments-box p").remove();var s=!1;if(i.hasClass("cff-event"))var o=i.find(".cff-desc .cff-desc-text"),r=o.parent().attr("data-char");else var o=i.find(".cff-post-text .cff-text"),r=i.closest("#cff").attr("data-char");"undefined"!=typeof r&&""!=r||(r=99999),o.find("a.cff-post-text-link").length&&(o=i.find(".cff-post-text .cff-text a"));var l=o.html();void 0==l&&(l="");var d=new RegExp(/(<[^>]*>)/g),h=0;full_text_arr=l.split(d);for(var m=0,p=full_text_arr.length;m<p;m++)if(!d.test(full_text_arr[m])){if(h==r){full_text_arr.splice(m,1);continue}if(h+=full_text_arr[m].length,h>r){var g=h-r;full_text_arr[m]=full_text_arr[m].slice(0,-g),h=r,l.length>r&&i.find(".cff-expand").show()}}var b=full_text_arr.join("");b=b.replace(/(<(?!\/)[^>]+>)+(<\/[^>]+>)/g,"");var v=b.substr(b.length-1);"<"==v&&(b=b.substring(0,b.length-1)),b=b.replace(/(<br>\s*)+$/,""),b=b.replace(/(<img class="cff-linebreak">\s*)+$/,""),o.html(b),i.find(".cff-expand a").unbind("click").bind("click",function(e){e.preventDefault();var a=jQuery(this),n=a.find(".cff-more"),c=a.find(".cff-less");0==s?(o.html(l),s=!0,n.hide(),c.show()):(o.html(b),s=!1,n.show(),c.hide()),f(),o.find("a").attr("target","_blank"),i.closest(".cff").hasClass("cff-masonry")&&!i.closest(".cff").hasClass("cff-masonry-css")&&cffAddMasonry(t)}),o.find("a").add(i.find(".cff-post-desc a")).attr({target:"_blank",rel:"nofollow"});var x=i.attr("id").substring(4),w=i.find(".cff-view-comments").attr("id");1!=u&&i.find(".cff-lightbox-thumbs-holder").css("min-height",0),jQuery(document).off("click","#cff .cff-show-more-comments, .cff-lightbox-sidebar .cff-show-more-comments").on("click","#cff .cff-show-more-comments, .cff-lightbox-sidebar .cff-show-more-comments",function(){var t=jQuery(this),e=parseInt(t.attr("data-cff-comments-total"));t.hasClass("cff-clicked")&&e>25&&t.find("a").attr({href:t.closest(".cff-comments-box").find(".cff-comment-on-facebook a").attr("href"),target:"_blank"}),e<=25&&t.hide(),t.addClass("cff-clicked"),t.parent().find(".cff-comment").show().each(function(){var t=jQuery(this);t.find(".cff-comment-img:not(.cff-comment-reply-img) a").html('<img src="https://graph.facebook.com/'+t.attr("data-id")+'/picture" alt="Avatar" />')})}),(i.hasClass("cff-timeline-event")||i.hasClass("cff-event"))&&e(this).find(".cff-date .cff-start-date k").text()!==e(this).find(".cff-date .cff-end-date k").text()&&e(this).find(".cff-date .cff-end-date k").show();var y=i.find(".cff-photo img, .cff-event-thumb img, .cff-poster, .cff-album-cover img"),A=y.attr("src"),C=y.attr("data-querystring");if("undefined"==typeof A&&(A=""),A.indexOf("i0.wp.com")>-1||A.indexOf("i1.wp.com")>-1||A.indexOf("i2.wp.com")>-1||A.indexOf("i3.wp.com")>-1||A.indexOf("i4.wp.com")>-1||A.indexOf("i5.wp.com")>-1){var _=y.attr("src").substring(0,y.attr("src").indexOf("?")),k=_.replace("http://","https:/").replace(/i0.wp.com|i1.wp.com|i2.wp.com|i3.wp.com|i4.wp.com|i5.wp.com/gi,"")+"?"+C;y.attr("src",k)}if(f(),i.find(".cff-text a").attr("target","_blank"),i.closest("#cff").hasClass("cff-lb")&&i.find(".cff-photo, .cff-album-cover, .cff-event-thumb, .cff-html5-video, .cff-iframe-wrap").each(function(){function t(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>")}var f=e(this),n=x,c="",s=!1,o="",r="";if(s=!0,i.hasClass("cff-albums-only")){o="albumsonly",c=t(i.find("img").attr("alt"));var u=i.closest("#cff").attr("data-group");"undefined"!=typeof u&&(r='data-cffgroupalbums="true"')}else if(i.hasClass("cff-timeline-event")){var d="";i.find(".cff-author-text .cff-page-name").length&&(d+=i.find(".cff-author-text .cff-page-name").text()+"<br /><br />"),l.length>5&&(d+=l),c=t(d)}else if(i.hasClass("cff-event"))c=t(i.find(".cff-date > .cff-start-date").text());else if(i.hasClass("cff-album-item"))c=t(i.find("img").attr("alt"));else{var h=l;""==l.trim()&&(h=i.find(".cff-post-desc").text()),""==h&&i.find(".cff-author .cff-story").length&&(h=i.find(".cff-author .cff-page-name").text()),""==h&&(h="&nbsp;"),c=t(h)}c.length>1&&(c=c.replace(/"/g,"&quot;"));var m='<a class="cff-lightbox-link" rel="nofollow" ';if(f.hasClass("cff-iframe-wrap"))m+='href="'+cffsiteurl+"/custom-facebook-feed-pro/img/video-lightbox.png?"+f.find("img").attr("src")+'" data-iframe="'+f.find("iframe").attr("src")+'" ';else if(f.hasClass("cff-swf"))m+='href="'+cffsiteurl+'/custom-facebook-feed-pro/img/video-lightbox.png" data-iframe="'+f.find("video").attr("src")+'" ';else{var p=f.find("img").attr("src");f.find("img").attr("data-cff-full-img")&&(p=f.find("img").attr("data-cff-full-img")),m+='href="'+p+'" data-iframe="" '}m+='data-cff-lightbox="cff-lightbox-'+i.closest("#cff").attr("data-cff-lb")+'" data-title="'+c+'" data-id="'+n+'" data-thumbs="'+s+'" '+r+" ",m+=f.hasClass("cff-html5-video")?f.hasClass("cff-swf")?'data-url="'+f.find(".cff-html5-play").attr("href")+'" data-video="':'data-url="'+f.find(".cff-html5-play").attr("href")+'" data-video="'+f.find("video").attr("src"):f.hasClass("cff-video")?'data-url="http://facebook.com/'+f.attr("id")+'" data-video="'+f.attr("data-source"):f.hasClass("cff-iframe-wrap")?'data-url="http://facebook.com/'+x+'" data-video="':'data-url="'+f.attr("href")+'" data-video="',m+='" data-type="'+o+'" data-lb-comments="'+f.closest(".cff-lb").attr("data-lb-comments")+'"><div class="cff-photo-hover"><i class="fa fa-search-plus" aria-hidden="true"></i></div></a>',f.prepend(m),a||f.hover(function(){i.find(".cff-photo-hover").fadeIn(150)},function(){i.find(".cff-photo-hover").stop().fadeOut(500)})}),i.find(".cff-share-link").unbind().bind("click",function(){i.find(".cff-share-tooltip").toggle()}),i.hasClass("cff-album-item")){var F=i.attr("data-cff-full-size");"undefined"!=typeof F&&""!=F&&i.find(".cff-lightbox-link").attr("href",F)}if(i.find(".cff-html5-video").length||i.hasClass("cff-video")){var I=!1;if(i.find(".cff-html5-video").length){var B=i.find(".cff-html5-video");"true"==B.attr("data-cff-live")&&(I=!0)}if(i.hasClass("cff-video"))var B=i;I&&e(window).width()<=640||"standard"!=B.attr("data-cff-video-player")&&i.find(".cff-lightbox-link").attr({"data-iframe":"https://www.facebook.com/v2.3/plugins/video.php?href="+B.attr("data-cff-video-link"),"data-video":""})}setTimeout(function(){i.find(".cff-iframe-wrap .fluid-width-video-wrapper iframe").unwrap().wrap('<div style="float: left; width: 100%;"></div>'),i.find(".cff-iframe-wrap .iframe-embed iframe").unwrap("iframe-embed")},500)}),jQuery(document).off("click",".cff-comment-replies a").on("click",".cff-comment-replies a",function(){cffLoadCommentReplies(e(this))}),e(".cff-wrapper").each(function(){function t(){n.innerWidth()<400?n.hasClass("cff-disable-narrow")||(n.addClass("narrow"),e(".cff-shared-link .cff-link").each(function(){})):n.removeClass("narrow")}function a(){n.innerWidth()<190+e(".cff-post-links").innerWidth()?n.find(".cff-post-links").addClass("cff-left"):n.find(".cff-post-links").removeClass("cff-left")}function f(t){var a=n.find(".cff-album-item").eq(0).find("a").innerWidth();n.find(".cff-album-item a").css("height",a),n.find(".cff-photo.cff-crop").css("height",n.find(".cff-photo.cff-crop").width()),n.find(".cff-item.cff-album .cff-photo.cff-multiple, .cff-video-post .cff-html5-video.cff-multiple").each(function(){var a=e(this),f=a.find("img").first().width();if(f<10&&(f=300),a.hasClass("cff-img-layout-3")&&a.find(".cff-img-attachments .cff-crop").css("height",f/2),a.hasClass("cff-img-layout-4")&&a.find(".cff-img-attachments .cff-crop").css("height",f/3),a.is(".cff-img-layout-3, .cff-img-layout-4")){var i=a.find(".cff-main-image"),n=.6;a.hasClass("cff-img-layout-4")&&(n=.8);var c=Math.round(f/i.find("img").attr("data-ratio"));i.css("height",Math.round(Math.max(c*n,a.find(".cff-img-attachments").height())))}else if(a.is(".cff-img-layout-2")){var s=a.find(".cff-img-wrap.cff-crop");a.hasClass("cff-portrait")?a.find(".cff-img-wrap.cff-crop").css("height",.8*a.width()):a.find(".cff-img-wrap.cff-crop").css("height",a.width()/2)}1==t&&(a.is(".cff-img-layout-3")||a.is(".cff-img-layout-4"))&&a.find(".cff-main-image").height()<10&&a.find(".cff-img-layout-3 .cff-main-image img, .cff-img-layout-4 .cff-main-image img").css({display:"block",visibility:"visible"}),f<200?a.addClass("cff-small-layout"):a.removeClass("cff-small-layout")})}function i(t,e){var a=""==e.attr("data-no-more")?"No more posts":e.attr("data-no-more").replace(/\\'/g,"'");t.find(".cff-no-more-posts").length<1&&e.hide().after('<p class="cff-no-more-posts">'+a+"</p>"),t.find(".cff-error-msg").remove()}var n=e(this).find("#cff"),s=n.attr("data-grid-pag");t(),a();var o=function(){var t=0;return function(e,a){clearTimeout(t),t=setTimeout(e,a)}}();window.addEventListener("resize",function(e){o(function(){t(),a(),f()},500)}),f(!1),setTimeout(function(){f(!1)},50),setTimeout(function(){f(!0)},500),setTimeout(function(){f(!0)},1500);var r=parseInt(n.attr("data-pag-num")),u=r;if(n.find(".cff-event").slice(0,r).css("display","inline-block"),n.hasClass("cff-all-reviews")){var l=parseInt(n.attr("data-pag-num")),d=l,h=parseInt(n.attr("data-offset"));("undefined"==typeof h||isNaN(h))&&(h=0),n.find(".cff-review").slice(0,l+h).css("display","inline-block"),h>0&&n.find(".cff-review").slice(0,h).remove()}var m=n.find("#cff-load-more"),p=n.find(".cff-load-more").attr("data-cff-no-posts-added");"undefined"!=typeof p&&0!=p||m.attr("data-cff-no-posts-added","false"),n.find(".cff-item, .cff-album-item").length<1&&m.attr("data-cff-no-posts-added","true"),m.off().on("click",function(){var t=n.attr("data-cff-shortcode"),a=n.find(".cff-pag-url"),f=a.attr("data-cff-pag-url"),o=n.find(".cff-event").length;if(o>0)return u+=r,n.find(".cff-event").slice(0,u).css("display","inline-block"),u>o&&(n.find("#cff-load-more").hide(),i(n,m)),void(n.hasClass("cff-masonry")&&!n.hasClass("cff-masonry-css")&&cffAddMasonry(n));if(n.hasClass("cff-all-reviews")){var h=n.find(".cff-review").length;if(h>0)return d+=l,n.find(".cff-review").slice(0,d).css("display","inline-block"),d>h&&(n.find("#cff-load-more").hide(),i(n,m)),void(n.hasClass("cff-masonry")&&!n.hasClass("cff-masonry-css")&&cffAddMasonry(n))}if(m.off().removeAttr("id").addClass("cff-disabled"),a.remove(),n.hasClass("cff-album-items-feed"))var p=".cff-album-item";else var p=".cff-item";if(".cff-album-item"==p){""!=f&&"{}"!=f||(f=a.attr("data-cff-prev-url"));var g=a.attr("data-cff-prev-url"),b="undefined"==typeof g?"":JSON.parse(g)}var v="undefined"==typeof f?"":JSON.parse(f);if(".cff-album-item"==p)for(var x in b)b.hasOwnProperty(x)&&"undefined"==typeof v[x]&&(v[x]=b[x]);""!=f&&"{}"!=f||".cff-item"!=p?(m.addClass("cff-loading").append('<div class="cff-loader"></div>'),m.find(".cff-loader").css("background-color",m.css("color"))):(m.hide(),i(n,m));var w=!1;if(n.attr("data-timeline-pag")&&(w=!0),1==w);else for(var x in v)if(v.hasOwnProperty(x)){var y=v[x],A=c("until",y),C=(parseInt(n.find(p+".cff-"+x).last().attr("data-cff-timestamp"))-1).toString();isNaN(parseFloat(C))&&(C=(parseInt(n.find(p).last().attr("data-cff-timestamp"))-1).toString());var _=y;if("true"==m.attr("data-cff-no-posts-added"));else if(".cff-album-item"!==p){if(y.indexOf("until=")!==-1)var _=y.replace("until="+A,"until="+C);else var _=y+"&until="+C;_.indexOf("&after=")>-1&&(_=_.replace("&after="+c("after",_),""))}if("offset"==s&&".cff-album-item"==p){_.indexOf("&after=")>-1&&(_=_.replace("&after="+c("after",_),"")),x=x.replace(/(:|\.|\[|\]|,|=)/g,"\\$1");var k=n.find(".cff-album-item.cff-"+x).length+n.find(".cff-empty-album.cff-"+x).length;_=_.indexOf("&offset=")>-1?_.replace("&offset="+c("offset",_),"&offset="+k):_+"&offset="+k,x=x.replace(/\\/g,"")}(y.indexOf("/events")>-1&&y.indexOf("&after=")>-1||y.indexOf("/ratings")>-1&&y.indexOf("&after=")>-1&&n.hasClass("cff-all-reviews"))&&(_=_.replace("&after="+c("after",_),"")),_.indexOf("&__paging_token")>-1&&(_=_.replace("&__paging_token="+c("__paging_token",_),"")),v[x]=_}f=JSON.stringify(v),jQuery.ajax({url:cffajaxurl,type:"post",data:{action:"cff_get_new_posts",shortcode_data:t,pag_url:f},success:function(t){t.indexOf("<div class=")==-1&&t.indexOf("<span class=")==-1?m.attr("data-cff-no-posts-added","true"):m.attr("data-cff-no-posts-added","false"),n.find(".cff-item, .cff-album-item").length?n.find(".cff-item, .cff-album-item").removeClass("cff-new").last().after(t):n.find(".cff-posts-wrap").append(t),n.find(".cff-album-item").each(function(t){var a=e('[id="'+this.id+'"]').eq(1);a.length&&(this_classes=a.attr("class"),this_classes=this_classes.replace("cff-album-item",""))}),m.removeClass("cff-loading").find(".cff-loader").remove(),m.attr("id","cff-load-more").removeClass("cff-disabled"),cff_init(n),n.hasClass("cff-masonry")&&!n.hasClass("cff-masonry-css")&&(n.masonry("appended",n.find(".cff-new")),n.find(".cff-view-comments, .cff-comment-replies a, .cff-show-more-comments a").off().on("click",function(){setTimeout(function(){cffAddMasonry(n)},500)}));var a=n.find(".cff-pag-url").attr("data-cff-pag-url");".cff-item"==p||"cursor"==s?"{}"==a&&i(n,m):t.indexOf('class="cff-album-item')<0&&t.indexOf('class="cff-empty-album')<0&&i(n,m),"function"==typeof cff_custom_js&&cff_custom_js(jQuery)}})}).hover(function(){e(this).css("background",e(this).attr("data-cff-hover"))},function(){e(this).css("background",e(this).attr("data-cff-bg"))}),e(this).find(".cff-masonry-posts").length<1&&e(this).find("#cff.cff-masonry .cff-item, #cff.cff-masonry .cff-likebox, #cff.cff-masonry .cff-event, #cff.cff-masonry .cff-album-item").wrapAll('<div class="cff-masonry-posts" />'),n.find(".cff-album-item").length&&n.removeClass("cff-masonry cff-masonry-css"),n.find(".cff-more-dates").on("click",function(){e(this).siblings(".cff-multiple-dates").slideToggle(100)})}),"false"!=cffmetatrans&&e(".cff-timeline-feed").length?e.ajax({url:cffajaxurl,type:"POST",async:!0,cache:!1,data:{action:"get_meta"},success:function(a){""==a||a.length<1?l=[]:(a=decodeURI(a),a=a.replace(/\\'/g,"'"),l=JSON.parse(a)),t.each(function(){e(this).find(".cff-item.cff-new:not(.cff-event)").each(function(){var t=e(this),a=t.find(".cff-view-comments").attr("id"),f=t.closest(".cff-item").attr("data-object-id");l.hasOwnProperty(a)?(r(t,l[a]),o(t,l[a])):i(t,a,f)})})},error:function(t,e,a){}}):e("#cff .cff-item.cff-new:not(.cff-event)").each(function(){var t=e(this),a=t.find(".cff-view-comments").attr("id"),f=t.closest(".cff-item").attr("data-object-id");i(t,a,f)});var p=!1;e(document).off("click","#cff .cff-html5-video .cff-html5-play").on("click","#cff .cff-html5-video .cff-html5-play",function(t){t.preventDefault();var a=e(this),f=a.closest(".cff-html5-video"),i=a.siblings("video")[0];i.play(),a.hide(),a.siblings(".cff-poster").hide(),i.hasAttribute("controls")?i.removeAttribute("controls"):i.setAttribute("controls","controls"),f.innerWidth()<150&&!f.hasClass("cff-no-video-expand")&&f.css("width","100%").closest(".cff-item").find(".cff-text-wrapper").css("width","100%")})}(jQuery);var i=i||{VER:"0.9.944"};i.bgs_Available=!1,i.bgs_CheckRunned=!1,jQuery(".cff-new .cff-album-cover img, .cff-new .cff-crop img").css("visibility","hidden"),jQuery("#cff .cff-img-attachments .cff-crop img").css("opacity",0),function(t){function e(){if(!i.bgs_CheckRunned){i.bgs_CheckRunned=!0;var e=t('<span style="background-size:cover" />');t("body").append(e),!function(){var t=e[0];if(t&&window.getComputedStyle){var a=window.getComputedStyle(t,null);a&&a.backgroundSize&&(i.bgs_Available="cover"===a.backgroundSize)}}(),e.remove()}}t.fn.extend({imgLiquid:function(a){this.defaults={fill:!0,verticalAlign:"center",horizontalAlign:"center",useBackgroundSize:!0,useDataHtmlAttr:!0,responsive:!0,delay:0,fadeInTime:0,removeBoxBackground:!0,hardPixels:!0,responsiveCheckTime:500,timecheckvisibility:500,onStart:null,onFinish:null,onItemStart:null,onItemFinish:null,onItemError:null},e();var f=this;return this.options=a,this.settings=t.extend({},this.defaults,this.options),
this.settings.onStart&&this.settings.onStart(),this.each(function(e){function a(){d.css("background-image").indexOf(encodeURI(h.attr("src")))===-1&&d.css({"background-image":'url("'+encodeURI(h.attr("src"))+'")'}),d.css({"background-size":l.fill?"cover":"contain","background-position":(l.horizontalAlign+" "+l.verticalAlign).toLowerCase(),"background-repeat":"no-repeat"}),t("a:first",d).css({display:"block",width:"100%",height:"100%"}),t("img",d).css({display:"none"}),l.onItemFinish&&l.onItemFinish(e,d,h),d.addClass("imgLiquid_bgSize"),d.addClass("imgLiquid_ready"),u()}function n(){function a(){h.data("imgLiquid_error")||h.data("imgLiquid_loaded")||h.data("imgLiquid_oldProcessed")||(d.is(":visible")&&h[0].complete&&h[0].width>0&&h[0].height>0?(h.data("imgLiquid_loaded",!0),setTimeout(r,e*l.delay)):setTimeout(a,l.timecheckvisibility))}if(h.data("oldSrc")&&h.data("oldSrc")!==h.attr("src")){var f=h.clone().removeAttr("style");return f.data("imgLiquid_settings",h.data("imgLiquid_settings")),h.parent().prepend(f),h.remove(),h=f,h[0].width=0,void setTimeout(n,10)}return h.data("imgLiquid_oldProcessed")?void r():(h.data("imgLiquid_oldProcessed",!1),h.data("oldSrc",h.attr("src")),t("img:not(:first)",d).css("display","none"),d.css({overflow:"hidden"}),h.fadeTo(0,0).removeAttr("width").removeAttr("height").css({visibility:"visible","max-width":"none","max-height":"none",width:"auto",height:"auto",display:"block"}),h.on("error",s),h[0].onerror=s,a(),void c())}function c(){(l.responsive||h.data("imgLiquid_oldProcessed"))&&h.data("imgLiquid_settings")&&(l=h.data("imgLiquid_settings"),d.actualSize=d.get(0).offsetWidth+d.get(0).offsetHeight/1e4,d.sizeOld&&d.actualSize!==d.sizeOld&&r(),d.sizeOld=d.actualSize,setTimeout(c,l.responsiveCheckTime))}function s(){h.data("imgLiquid_error",!0),d.addClass("imgLiquid_error"),l.onItemError&&l.onItemError(e,d,h),u()}function o(){var t={};if(f.settings.useDataHtmlAttr){var e=d.attr("data-imgLiquid-fill"),a=d.attr("data-imgLiquid-horizontalAlign"),n=d.attr("data-imgLiquid-verticalAlign");"true"!==e&&"false"!==e||(t.fill=Boolean("true"===e)),void 0===a||"left"!==a&&"center"!==a&&"right"!==a&&a.indexOf("%")===-1||(t.horizontalAlign=a),void 0===n||"top"!==n&&"bottom"!==n&&"center"!==n&&n.indexOf("%")===-1||(t.verticalAlign=n)}return i.isIE&&f.settings.ieFadeInDisabled&&(t.fadeInTime=0),t}function r(){var t,a,f,i,n,c,s,o,r=0,m=0,p=d.width(),g=d.height();void 0===h.data("owidth")&&h.data("owidth",h[0].width),void 0===h.data("oheight")&&h.data("oheight",h[0].height),l.fill===p/g>=h.data("owidth")/h.data("oheight")?(t="100%",a="auto",f=Math.floor(p),i=Math.floor(p*(h.data("oheight")/h.data("owidth")))):(t="auto",a="100%",f=Math.floor(g*(h.data("owidth")/h.data("oheight"))),i=Math.floor(g)),n=l.horizontalAlign.toLowerCase(),s=p-f,"left"===n&&(m=0),"center"===n&&(m=.5*s),"right"===n&&(m=s),n.indexOf("%")!==-1&&(n=parseInt(n.replace("%",""),10),n>0&&(m=s*n*.01)),c=l.verticalAlign.toLowerCase(),o=g-i,"left"===c&&(r=0),"center"===c&&(r=.5*o),"bottom"===c&&(r=o),c.indexOf("%")!==-1&&(c=parseInt(c.replace("%",""),10),c>0&&(r=o*c*.01)),l.hardPixels&&(t=f,a=i),h.css({width:t,height:a,"margin-left":Math.floor(m),"margin-top":Math.floor(r)}),h.data("imgLiquid_oldProcessed")||(h.fadeTo(l.fadeInTime,1),h.data("imgLiquid_oldProcessed",!0),l.removeBoxBackground&&d.css("background-image","none"),d.addClass("imgLiquid_nobgSize"),d.addClass("imgLiquid_ready")),l.onItemFinish&&l.onItemFinish(e,d,h),u()}function u(){e===f.length-1&&f.settings.onFinish&&f.settings.onFinish()}var l=f.settings,d=t(this),h=t("img:first",d);return h.length?(h.data("imgLiquid_settings")?(d.removeClass("imgLiquid_error").removeClass("imgLiquid_ready"),l=t.extend({},h.data("imgLiquid_settings"),f.options)):l=t.extend({},f.settings,o()),h.data("imgLiquid_settings",l),l.onItemStart&&l.onItemStart(e,d,h),void(i.bgs_Available&&l.useBackgroundSize?a():n())):void s()})}})}(jQuery),setTimeout(function(){jQuery("#cff .embed-responsive video, #cff .embed-responsive iframe").unwrap()},500),!function(){var t=i.injectCss,e=document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),e.appendChild(a)}(),jQuery(".cff-new .cff-album-cover, .cff-new .cff-crop").imgLiquid({fill:!0})}function cffReplaceHashtags(t){var e=jQuery.trim(t);return/^#[0-9A-F]{6}$/i.test(e)?e:'<a href="https://www.facebook.com/hashtag/'+e.substring(1)+'" target="_blank" rel="nofollow">'+e+"</a>"}function cffReplaceTags(t){var e=jQuery.trim(t);return'<a href="https://www.facebook.com/'+e.substring(1)+'" target="_blank" rel="nofollow">'+e+"</a>"}function cffLoadCommentReplies(t){var e="";t.closest("#cff").hasClass("cff-group")&&(e="&usegrouptoken=true");var a=t.parent(),f=a.siblings(".cff-comment-replies-box"),i=cffsiteurl+"/custom-facebook-feed-pro/comments.php?id="+a.attr("data-id")+e;if(a.hasClass("cff-hide"))f.hide(),a.removeClass("cff-hide");else if(f.show(),a.addClass("cff-hide"),f.hasClass("cff-empty")){var n=a.find("a");n.append('<div class="cff-loader"></div>'),a.find(".cff-loader").css("background-color",n.css("color")),jQuery.ajax({method:"GET",url:i,success:function(e){a.find(".cff-loader").remove();var e=jQuery.parseJSON(e),i="";"undefined"!=typeof e.comments&&jQuery.each(e.comments.data,function(t,e){i+='<div class="cff-comment-reply" id="cff_'+e.id+'"><div class="cff-comment-text-wrapper"><div class="cff-comment-text"><p><a href="http://facebook.com/'+e.from.id+'" class="cff-name" target="_blank" rel="nofollow" style="color:#;">'+e.from.name+"</a>"+e.message+"</p>","undefined"!=typeof e.attachment&&(i+='<a class="cff-comment-attachment" href="'+e.attachment.url+'" target="_blank"><img src="'+e.attachment.media.image.src+'" alt="'+e.attachment.title+'" /></a>'),parseInt(e.like_count)>0&&(i+='<span class="cff-time"><span class="cff-comment-likes"><b></b>'+e.like_count+"</span></span>"),i+='</div></div><div class="cff-comment-img cff-comment-reply-img"><a href="http://facebook.com/'+e.from.id+'" target="_blank" rel="nofollow"><img src="https://graph.facebook.com/'+e.from.id+'/picture" width="20" height="20" alt="Avatar"></a></div></div>'}),f.html(i).removeClass("cff-empty"),t.closest("#cff").hasClass("cff-masonry")&&!t.closest("#cff").hasClass("cff-masonry-css")&&cffAddMasonry(t.closest("#cff"))}})}}function cffLightbox(){function t(){return!!document.createElement("video").canPlayType}(function(){var e=jQuery,a=function(){function t(){this.fadeDuration=300,this.fitImagesInViewport=!0,this.resizeDuration=400,this.positionFromTop=50,this.showImageNumberLabel=!0,this.alwaysShowNavOnTouchDevices=!1,this.wrapAround=!1}return t.prototype.albumLabel=function(t,e){return t+" / "+e},t}(),f=function(){function a(t){this.options=t,this.album=[],this.currentImageIndex=void 0,this.init()}a.prototype.init=function(){this.enable(),this.build()},a.prototype.enable=function(){var t=this;e("body").on("click","a[data-cff-lightbox], area[data-cff-lightbox]",function(a){return t.start(e(a.currentTarget)),!1})},a.prototype.build=function(){var a=this;e("<div id='cff-lightbox-overlay' class='cff-lightbox-overlay'></div><div id='cff-lightbox-wrapper' class='cff-lightbox-wrapper'><div class='cff-lightbox-outerContainer'><div class='cff-lightbox-container'><iframe type='text/html' src='' allowfullscreen frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe><img class='cff-lightbox-image' src='' alt='"+e("#cff").attr("data-fb-text")+"' /><div class='cff-lightbox-nav'><a class='cff-lightbox-prev' href=''><span>Previous</span></a><a class='cff-lightbox-next' href=''><span>Next</span></a></div><div class='cff-lightbox-loader'><a class='cff-lightbox-cancel'></a></div><div class='cff-lightbox-sidebar'></div></div></div><div class='cff-lightbox-dataContainer'><div class='cff-lightbox-data'><div class='cff-lightbox-details'><p class='cff-lightbox-caption'><span class='cff-lightbox-caption-text'></span><a class='cff-lightbox-facebook' href=''>"+e("#cff").attr("data-fb-text")+"</a></p><div class='cff-lightbox-thumbs'><div class='cff-lightbox-thumbs-holder'></div></div></div><div class='cff-lightbox-closeContainer'><a class='cff-lightbox-close'><i class='fa fa-times' aria-hidden='true'></i></a></div></div></div></div>").appendTo(e("body")),this.$lightbox=e("#cff-lightbox-wrapper"),this.$overlay=e("#cff-lightbox-overlay"),this.$outerContainer=this.$lightbox.find(".cff-lightbox-outerContainer"),this.$container=this.$lightbox.find(".cff-lightbox-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return a.end(),t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src",""),!1}),this.$lightbox.hide().on("click",function(f){return"cff-lightbox-wrapper"===e(f.target).attr("id")&&(a.end(),t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src","")),!1}),this.$outerContainer.on("click",function(f){return"cff-lightbox-wrapper"===e(f.target).attr("id")&&(a.end(),t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src","")),!1}),this.$lightbox.find(".cff-lightbox-prev").on("click",function(){return 0===a.currentImageIndex?a.changeImage(a.album.length-1):a.changeImage(a.currentImageIndex-1),t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src",""),!1}),this.$lightbox.find(".cff-lightbox-next").on("click",function(){return a.currentImageIndex===a.album.length-1?a.changeImage(0):a.changeImage(a.currentImageIndex+1),t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src",""),!1}),e(".cff-lightbox-thumbs").on("click",".cff-lightbox-attachment",function(){var t=e(this),f=t.find("img"),i=t.attr("data-caption");return""!=i&&"undefined"!=i||(i=t.attr("orig-caption")),a.changeImage(parseInt(t.attr("data-cff-lightbox-order")),t.attr("href"),f.attr("width"),f.attr("height"),t.attr("data-facebook"),i),!1}),this.$lightbox.find(".cff-lightbox-loader, .cff-lightbox-close").on("click",function(){return a.end(),t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src",""),!1})},a.prototype.start=function(t){function a(t){var a=!1;e.each(f.album,function(e,f){if(f.link==t.attr("href"))return void(a=!0)}),1!=a&&f.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title"),postid:t.attr("data-id"),showthumbs:t.attr("data-thumbs"),facebookurl:t.attr("data-url"),video:t.attr("data-video"),iframe:t.attr("data-iframe"),type:t.attr("data-type"),cffgroupalbums:t.attr("data-cffgroupalbums"),isthumbnail:t.attr("data-cff-isthumbnail"),pagename:t.parent().attr("data-cff-page-name"),posttime:t.parent().attr("data-cff-post-time"),lbcomments:t.attr("data-lb-comments")})}var f=this,i=e(window);i.on("resize",e.proxy(this.sizeOverlay,this)),e("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),0==this.album.length&&(this.album=[]);var n=0,c=t.attr("data-cff-lightbox"),s;if(c){s=e(t.prop("tagName")+'[data-cff-lightbox="'+c+'"]');for(var o=0;o<s.length;o=++o)a(e(s[o])),s[o]===t[0]&&(n=o,e.each(f.album,function(e,a){a.postid==t.attr("data-id")&&1!=a.isthumbnail&&(n=e)}))}else if("lightbox"===t.attr("rel"))a(t);else{s=e(t.prop("tagName")+'[rel="'+t.attr("rel")+'"]');for(var r=0;r<s.length;r=++r)a(e(s[r])),s[r]===t[0]&&(n=r)}var u=i.scrollTop()+this.options.positionFromTop,l=i.scrollLeft();this.$lightbox.css({top:u+"px",left:l+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(n)},a.prototype.changeImage=function(t,a,f,i,n,c){var s=this,o=!1,r=120;imageNumber=t,"undefined"!=typeof a&&(o=!0),this.disableKeyboardNav();var u=this.$lightbox.find(".cff-lightbox-image");this.$overlay.fadeIn(this.options.fadeDuration),e(".cff-lightbox-loader").fadeIn("slow"),this.$lightbox.find(".cff-lightbox-image, .cff-lightbox-nav, .cff-lightbox-prev, .cff-lightbox-next, .cff-lightbox-dataContainer, .cff-lightbox-numbers, .cff-lightbox-caption").hide(),this.$outerContainer.addClass("animating");var l=new Image;l.onload=function(){var t,d,h,m,p,g,b;if(u.attr("src",s.album[imageNumber].link),o&&(u.attr("src",a),e(".cff-lightbox-facebook").attr("href",n),e(".cff-lightbox-caption .cff-lightbox-caption-text").html(c),l.width=f,l.height=i,r=180),t=e(l),u.width(l.width),u.height(l.height),s.options.fitImagesInViewport){b=e(window).width(),g=e(window).height();var v=0;"true"==e("#cff_"+s.album[0].postid).closest("#cff").attr("data-lb-comments")&&b>640&&(v=300),p=b-s.containerLeftPadding-s.containerRightPadding-20-v,m=g-s.containerTopPadding-s.containerBottomPadding-r,(l.width>p||l.height>m)&&(l.width/p>l.height/m?(h=p,d=parseInt(l.height/(l.width/h),10),u.width(h),u.height(d)):(d=m,h=parseInt(l.width/(l.height/d),10),u.width(h),u.height(d)))}s.sizeContainer(u.width(),u.height())},l.src=this.album[imageNumber].link,this.currentImageIndex=imageNumber},a.prototype.sizeOverlay=function(){this.$overlay.width(e(window).width()).height(e(document).height())},a.prototype.sizeContainer=function(t,e){function a(){f.$lightbox.find(".cff-lightbox-dataContainer").width(c),f.$lightbox.find(".cff-lightbox-prevLink").height(s),f.$lightbox.find(".cff-lightbox-nextLink").height(s),f.showImage()}var f=this,i=this.$outerContainer.outerWidth(),n=this.$outerContainer.outerHeight(),c=t+this.containerLeftPadding+this.containerRightPadding,s=e+this.containerTopPadding+this.containerBottomPadding;i!==c||n!==s?this.$outerContainer.animate({width:c,height:s},this.options.resizeDuration,"swing",function(){a()}):a()},a.prototype.showImage=function(){this.$lightbox.find(".cff-lightbox-loader").hide(),this.$lightbox.find(".cff-lightbox-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},a.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(t){}this.$lightbox.find(".cff-lightbox-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".cff-lightbox-prev, .cff-lightbox-next").css("opacity","1"),this.$lightbox.find(".cff-lightbox-prev, .cff-lightbox-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".cff-lightbox-prev").show(),t&&this.$lightbox.find(".cff-lightbox-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".cff-lightbox-next").show(),t&&this.$lightbox.find(".cff-lightbox-next").css("opacity","1"))))};var f={};return a.prototype.updateDetails=function(){function a(t,a,f,n,c,s,o,r){var u=!1;e.each(i.album,function(t,e){if(e.link==a)return void(u=!0)}),1!=u&&(s?postType="albumsonly":postType="",s?lbcomments="false":lbcomments="true",i.album.splice(t,0,{link:a,title:f,postid:c,showthumbs:"true",facebookurl:n,video:"",iframe:"",type:postType,cffgroupalbums:void 0,isthumbnail:o,lbcomments:lbcomments,thumbimg:r}))}var i=this,n="";this.$lightbox.find(".cff-lightbox-nav, .cff-lightbox-nav a").show(),0==e(".cff-lightbox-video").length&&e(".cff-lightbox-container").prepend("<video class='cff-lightbox-video' src='' poster='' controls></video>"),t()&&(e("#cff-lightbox-wrapper").removeClass("cff-has-video"),"undefined"!=typeof this.album[this.currentImageIndex].video&&this.album[this.currentImageIndex].video.length&&(e("#cff-lightbox-wrapper").addClass("cff-has-video"),e(".cff-lightbox-video").attr({src:this.album[this.currentImageIndex].video,poster:this.album[this.currentImageIndex].link,autoplay:"true"})));var c="true"==this.album[this.currentImageIndex].lbcomments&&"false"!=e("#cff_"+this.album[this.currentImageIndex].postid+" .cff-lightbox-link").attr("data-lb-comments");if(e(window).width()<=640&&(c=!1),c){var s=this.album[this.currentImageIndex].postid,o=s.split("_")[0],r=this.album[this.currentImageIndex].pagename,u=this.album[this.currentImageIndex].posttime,l=e(".cff-lightbox-container .cff-lightbox-sidebar"),d=e(".cff-lightbox-thumbs-holder"),h=e("#cff_"+this.album[this.currentImageIndex].postid).attr("data-cff-from");e(".cff-lightbox-wrapper").addClass("cff-enable-lb-comments"),e(".cff-lightbox-dataContainer").css("width",e(".cff-lightbox-dataContainer").innerWidth()+300),l.css("display","block"),l.html("<div class='cff-lightbox-sidebar-content'><div class='cff-author'><div class='cff-author-text'><p class='cff-page-name cff-author-date'><a href='https://facebook.com/"+h+"' target='_blank' rel='nofollow'>"+r+"</a><span class='cff-story'> </span></p><p class='cff-date'>"+u+"</p></div><a href='https://facebook.com/"+h+"' target='_blank' rel='nofollow' class='cff-author-img'><img src='https://graph.facebook.com/"+h+"/picture?type=square' title='"+r+"' alt='"+r+"' width='40' height='40'></a></div><p class='cff-lightbox-caption'><span class='cff-lightbox-caption-text'>"+e(".cff-lightbox-caption-text").html()+"</span></p></div>"+e("#cff_"+this.album[this.currentImageIndex].postid+" .cff-comments-box")[0].outerHTML),setTimeout(function(){d.find("a").length>1&&(l.find(".cff-page-name a").text(d.find("a.cff-selected").attr("data-page-name")),l.find(".cff-date").text(d.find("a.cff-selected").attr("data-post-date")))},0),e(".cff-lightbox-dataContainer .cff-lightbox-caption").remove(),d.css("margin-top",-10),l.find(".cff-reactions-count").innerWidth()>150&&l.find(".cff-likes-this-text").addClass("cff-long"),l.find(".cff-comment:visible").each(function(){var t=jQuery(this);t.find(".cff-comment-img:not(.cff-comment-reply-img) a").html('<img src="https://graph.facebook.com/'+t.attr("data-id")+'/picture" alt="Avatar" />')}),l.find(".cff-comment-replies a").on("click",function(){cffLoadCommentReplies(e(this))}),l.find(".cff-show-more-comments a").attr("href",l.find(".cff-comment-on-facebook a").attr("href"))}else e(".cff-lightbox-wrapper .cff-lightbox-sidebar").html(""),e(".cff-lightbox-wrapper").removeClass("cff-enable-lb-comments");if(e("#cff-lightbox-wrapper").removeClass("cff-has-iframe cff-fb-player"),"undefined"!=typeof this.album[this.currentImageIndex].iframe&&this.album[this.currentImageIndex].iframe.length){var m=this.album[this.currentImageIndex].iframe;if(e("#cff-lightbox-wrapper").addClass("cff-has-iframe"),m.indexOf("https://www.facebook.com/v2.3/plugins/video.php?")!=-1&&e("#cff-lightbox-wrapper").addClass("cff-fb-player"),m.indexOf(".swf")>-1||m.indexOf("&autoplay=1")!=-1)var p="";else var p="?autoplay=1";var g=setTimeout(function(){e("#cff-lightbox-wrapper iframe").attr({src:m+p})},500)}var b=!1;if(this.album[this.currentImageIndex].isthumbnail&&(b=!0),b||e(".cff-lightbox-thumbs-holder").empty(),this.album[this.currentImageIndex].link==e(".cff-lightbox-image").attr("src")&&e(".cff-lightbox-facebook").attr("href",this.album[this.currentImageIndex].facebookurl),"true"==this.album[this.currentImageIndex].showthumbs){e(".cff-lightbox-thumbs").show();var v=this.album[this.currentImageIndex].postid,x="",w="",y=!1;if("albumsonly"==this.album[this.currentImageIndex].type&&(y=!0),"undefined"!=typeof f[v])e.each(f[v],function(t,f){var n=f[5].replace(/"/g,"&quot;"),c=0;e.each(i.album,function(t,e){if(e.postid==v)return c=t,!1});var s=parseInt(c)+parseInt(t);"undefined"==typeof f[8]&&(f[8]=f[0]),w+='<a href="'+f[0]+'" class="cff-lightbox-attachment" data-cff-lightbox="cff-lightbox-1" data-facebook="'+f[3]+'" data-caption="'+f[4]+'" orig-caption="'+n+'" data-page-name="'+f[6]+'" data-post-date="'+f[7]+'" data-cff-lightbox-order="'+s+'" lbcomments="true" data-thumbs="true" data-url="'+f[3]+'" data-iframe data-video ',w+=y?'data-type="albumsonly" ':"data-type ",w+='data-cff-isthumbnail="true"><img src="'+f[8]+'" width="'+f[1]+'" height="'+f[2]+'" /></a>',t>0&&a(s,f[0],f[4],f[3],v,y,!0,f[6],f[7],f[8])}),e(".cff-lightbox-thumbs-holder").html('<div style="margin-top: 10px;">'+w+"</div>"),jQuery(".cff-lightbox-thumbs-holder a").imgLiquid({fill:!0}),e(".cff-loader").hide(),e(".cff-lightbox-thumbs-holder").css("min-height",0);else{"undefined"!=typeof cffsiteurl&&""!=cffsiteurl||(cffsiteurl=window.location.host+"/wp-content/plugins");var A=cffsiteurl+"/custom-facebook-feed-pro/thumbs.php?id="+v,C=[];y&&(A+="&albumsonly=true",e(".cff-lightbox-thumbs-holder").css("min-height",45).after('<div class="cff-loader fa-spin"></div>'));var _=this.album[this.currentImageIndex].cffgroupalbums;_&&(A=A+"&usegrouptoken="+_),e.ajax({method:"GET",url:A,success:function(t){t=jQuery.parseJSON(t),y?e.each(t.data,function(t,e){var f="";e.name&&(f=e.name),f=cffLinkify(f),f=f.replace(hashRegex,cffReplaceHashtags),f=String(f).replace(/& /g,"&amp; ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>"),n=String(n).replace(/& /g,"&amp; ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>");var c=parseInt(i.currentImageIndex)+parseInt(t),s=e.source,o=e.width,r=e.height;if("undefined"!=typeof e.images[0]&&(s=e.images[0].source,o=e.images[0].width,r=e.images[0].height),"undefined"!=typeof e.images[e.images.length-2])var u=e.images[e.images.length-2].source;else var u=s;w+='<a href="'+s+'" class="cff-lightbox-attachment" data-facebook="http://facebook.com/'+e.id+'" data-caption="'+f+'" orig-caption="'+n+'" data-cff-lightbox-order="'+c+'" data-thumbs="true" data-url="http://facebook.com/'+e.id+'" data-iframe data-video data-type="albumsonly" data-cff-isthumbnail="true"><img src="'+u+'" lbcomments="false" width="'+o+'" height="'+r+'" /></a>',C.push([s,o,r,"http://facebook.com/"+e.id,f,n,void 0,void 0,u]),t>0&&a(c,s,f,"http://facebook.com/"+e.id,v,y,!0,u)}):"undefined"!=typeof t.attachments&&e.each(t.attachments.data[0].subattachments.data,function(t,e){var f="";e.description&&(f=e.description),n=String(n).replace(/"/g,"&quot;"),f=cffLinkify(f),f=f.replace(hashRegex,cffReplaceHashtags),f=String(f).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>");var c=parseInt(i.currentImageIndex)+parseInt(t);w+='<a href="'+e.media.image.src+'" class="cff-lightbox-attachment" data-facebook="'+e.url+'" data-caption="'+f+'" orig-caption="'+n+'" lbcomments="true" data-page-name="'+r+'" data-post-date="'+u+'" data-cff-lightbox-order="'+c+'" data-thumbs="true" data-url="'+e.url+'" data-iframe data-video data-type data-cff-isthumbnail="true"><img src="'+e.media.image.src+'" width="'+e.media.image.width+'" height="'+e.media.image.height+'" /></a>',C.push([e.media.image.src,e.media.image.width,e.media.image.height,e.url,f,n,r,u]),t>0&&a(c,e.media.image.src,f,e.url,v,y,!0,r,u,e.media.image.src)}),e(".cff-lightbox-thumbs-holder").append('<div style="margin-top: 10px;">'+w+"</div>"),jQuery(".cff-lightbox-thumbs-holder .cff-lightbox-attachment").imgLiquid({fill:!0}),e(".cff-loader").hide(),e(".cff-lightbox-thumbs-holder").css("min-height",0),f[v]=C}})}}else e(".cff-lightbox-thumbs").hide();if(e(".cff-lightbox-attachment").removeClass("cff-selected"),e(".cff-lightbox-attachment[href='"+e(".cff-lightbox-image").attr("src")+"']").addClass("cff-selected"),this.$lightbox.find(".cff-lightbox-caption").fadeIn("fast"),"undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var n=this.album[this.currentImageIndex].title;n=n.replace(hashRegex,cffReplaceHashtags),n=String(n).replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');var k=this.$lightbox.find(".cff-lightbox-caption"),F=k.find(".cff-lightbox-caption-text");this.album[this.currentImageIndex].link==e(".cff-lightbox-image").attr("src")&&F.html(n)," "==F.text()||""==F.text()?k.addClass("cff-no-caption"):k.removeClass("cff-no-caption")}else this.$lightbox.find(".cff-lightbox-caption").addClass("cff-no-caption").find(".cff-lightbox-caption-text").html("");this.$lightbox.find(".cff-lightbox-facebook, .cff-lightbox-caption-text a, .cff-lightbox-sidebar a:not(.cff-comment-replies-a)").unbind().on("click",function(t){window.open(e(this).attr("href"),"_blank")}),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".cff-lightbox-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".cff-lightbox-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".cff-lightbox-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},a.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image;e.src=this.album[this.currentImageIndex-1].link}},a.prototype.enableKeyboardNav=function(){e(document).on("keyup.keyboard",e.proxy(this.keyboardAction,this))},a.prototype.disableKeyboardNav=function(){e(document).off(".keyboard")},a.prototype.keyboardAction=function(a){var f=27,i=37,n=39,c=a.keyCode,s=String.fromCharCode(c).toLowerCase();c===f||s.match(/x|o|c/)?(t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src",""),this.end()):"p"===s||c===i?(0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1),t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src","")):"n"!==s&&c!==n||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0),t()&&e("#cff-lightbox-wrapper video.cff-lightbox-video")[0].pause(),e("#cff-lightbox-wrapper iframe").attr("src",""))},a.prototype.end=function(){this.disableKeyboardNav(),e(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),e("select, object, embed").css({visibility:"visible"})},a}();e(function(){var t=new a,e=new f(t)})}).call(this)}var cff_js_exists="undefined"!=typeof cff_js_exists;if(!cff_js_exists){cff_init(),window.cffLinkify=function(){var t="[a-z\\d.-]+://",e="(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])",a="(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+",f="(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)",i="(?:"+a+f+"|"+e+")",n="(?:[;/][^#?<>\\s]*)?",c="(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?",s="\\b"+t+"[^<>\\s]+",o="\\b"+i+n+c+"(?!\\w)",r="mailto:",u="(?:"+r+")?[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@"+i+c+"(?!\\w)",l=new RegExp("(?:"+s+"|"+o+"|"+u+")","ig"),d=new RegExp("^"+t,"i"),h={"'":"`",">":"<",")":"(","]":"[","}":"{","B;":"B+","b:":"b9"},m={callback:function(t,e){return e?'<a href="'+e+'" title="'+e+'" target="_blank">'+t+"</a>":t},punct_regexp:/(?:[!?.,:;'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/};return function(t,e){e=e||{};var a,f,i,n,c="",s=[],o,u,p,g,b,v,x,w;for(f in m)void 0===e[f]&&(e[f]=m[f]);for(;a=l.exec(t);)if(i=a[0],u=l.lastIndex,p=u-i.length,!/[\/:]/.test(t.charAt(p-1))){do g=i,w=i.substr(-1),x=h[w],x&&(b=i.match(new RegExp("\\"+x+"(?!$)","g")),v=i.match(new RegExp("\\"+w,"g")),(b?b.length:0)<(v?v.length:0)&&(i=i.substr(0,i.length-1),u--)),e.punct_regexp&&(i=i.replace(e.punct_regexp,function(t){return u-=t.length,""}));while(i.length&&i!==g);n=i,d.test(n)||(n=(n.indexOf("@")!==-1?n.indexOf(r)?r:"":n.indexOf("irc.")?n.indexOf("ftp.")?"http://":"ftp://":"irc://")+n),o!=p&&(s.push([t.slice(o,p)]),o=u),s.push([i,n])}for(s.push([t.substr(o)]),f=0;f<s.length;f++)c+=e.callback.apply(window,s[f]);return c||t}}();var hashRegex=/[#]+[A-Za-z0-9-_]+/g,tagRegex=/[@]+[A-Za-z0-9-_]+/g;jQuery("#cff.cff-lb").length&&cffLightbox()}