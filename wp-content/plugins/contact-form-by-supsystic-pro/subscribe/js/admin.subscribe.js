jQuery(document).ready(function(){
	// Show/hide additonal subscribe options
	jQuery('#cfsFormEditForm').find('[name="params[tpl][sub_dest]"]').change(function(){
		var selectedSubMethod = jQuery(this).val();
		jQuery('.cfsFormSubDestOpts:visible').slideUp( g_cfsAnimationSpeed );
		var selectedShell = jQuery('.cfsFormSubDestOpts_'+ selectedSubMethod);
		if(selectedShell && selectedShell.size()) {
			selectedShell.slideDown( g_cfsAnimationSpeed );
		}
		if(toeInArray(selectedSubMethod, ['aweber']) === -1) {	// For aweber we use simple post send to aweber side method - so all messages is generated by aweber
			jQuery('.cfsFormSubTxtsAndRedirect').slideDown( g_cfsAnimationSpeed );
		} else {
			jQuery('.cfsFormSubTxtsAndRedirect').slideUp( g_cfsAnimationSpeed );
		}
		if(toeInArray(selectedSubMethod, ['wordpress']) !== -1) {	// Only for wordpress - we will handle emails about subscribe confirm
			jQuery('.cfsFormSubEmailTxt').slideDown( g_cfsAnimationSpeed );
		} else {
			jQuery('.cfsFormSubEmailTxt').slideUp( g_cfsAnimationSpeed );
		}
		if(toeInArray(selectedSubMethod, ['wordpress', 'aweber']) !== -1) {	// Create WP subscriber with usual subscription methods
			jQuery('.cfsFormSubCreateWpUser').slideUp( g_cfsAnimationSpeed );
		} else {
			jQuery('.cfsFormSubCreateWpUser').slideDown( g_cfsAnimationSpeed );
		}
	}).change();
});
